apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: karakeep
spec:
  values:
    applicationHost: karakeep.shakir.cloud

    ingress:
      karakeep:
        enabled: true
        className: "traefik"
        hosts:
          - host: karakeep.shakir.cloud
            paths:
              - path: /
                pathType: Prefix
                service:
                  name: karakeep
                  identifier: karakeep
                  port: http

    persistence:
      config:
        enabled: true
        type: persistentVolumeClaim
        accessMode: ReadWriteOnce
        storageClass: nfs-client
        size: 100Mi

      chrome-tmp:
        enabled: true
        type: emptyDir
        advancedMounts:
          chrome:
            chrome:
              - path: /tmp
                readOnly: false
